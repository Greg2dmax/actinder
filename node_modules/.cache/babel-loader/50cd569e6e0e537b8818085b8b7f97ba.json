{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _d3Timer = require(\"d3-timer\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\n\nfunction _default(node, stateKey, id, timing, tweens) {\n  var events = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n  var schedules = node.TRANSITION_SCHEDULES;\n\n  if (!schedules) {\n    node.TRANSITION_SCHEDULES = {}; // eslint-disable-line no-param-reassign\n  } else if (id in schedules) {\n    return;\n  }\n\n  var config = _objectSpread({\n    stateKey: stateKey,\n    events: events,\n    tweens: tweens\n  }, timing, {\n    timer: null,\n    state: CREATED\n  });\n\n  create(node, id, config);\n}\n\nfunction create(node, id, config) {\n  var schedules = node.TRANSITION_SCHEDULES; // Initialize the transition timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n\n  var transition = _objectSpread({}, config);\n\n  var n = transition.tweens.length;\n  var tweens = new Array(n);\n  schedules[id] = transition;\n  transition.timer = (0, _d3Timer.timer)(schedule, 0, transition.time);\n\n  function schedule(elapsed) {\n    transition.state = SCHEDULED;\n    transition.timer.restart(start, transition.delay, transition.time); // If the elapsed delay is less than our first sleep, start immediately.\n\n    if (transition.delay <= elapsed) {\n      start(elapsed - transition.delay);\n    }\n  }\n\n  function start(elapsed) {\n    // eslint-disable-line consistent-return\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (transition.state !== SCHEDULED) return stop();\n\n    for (var sid in schedules) {\n      // eslint-disable-line\n      var s = schedules[sid];\n\n      if (s.stateKey !== transition.stateKey) {\n        continue; // eslint-disable-line no-continue\n      } // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n\n\n      if (s.state === STARTED) return (0, _d3Timer.timeout)(start); // 1. Interrupt the active transition, if any. dispatch the interrupt event.\n      // 2. Cancel any pre-empted transitions. No interrupt event is dispatched\n      // because the cancelled transitions never started. Note that this also\n      // removes this transition from the pending list!\n\n      if (s.state === RUNNING) {\n        s.state = ENDED;\n        s.timer.stop();\n\n        if (s.events.interrupt && typeof s.events.interrupt === 'function') {\n          s.events.interrupt.call(this);\n        }\n\n        delete schedules[sid];\n      } else if (+sid < id) {\n        s.state = ENDED;\n        s.timer.stop();\n        delete schedules[sid];\n      }\n    } // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n\n\n    (0, _d3Timer.timeout)(function () {\n      if (transition.state === STARTED) {\n        transition.state = RUNNING;\n        transition.timer.restart(tick, transition.delay, transition.time);\n        tick(elapsed);\n      }\n    });\n    transition.state = STARTING;\n\n    if (transition.events.start && typeof transition.events.start === 'function') {\n      transition.events.start.call(node);\n    }\n\n    if (transition.state !== STARTING) {\n      // interrupted\n      return; // eslint-disable-line consistent-return\n    }\n\n    transition.state = STARTED; // Initialize the tween, deleting null tween.\n\n    var j = -1;\n\n    for (var i = 0; i < n; ++i) {\n      var res = transition.tweens[i].call(node);\n\n      if (res) {\n        tweens[++j] = res;\n      }\n    }\n\n    tweens.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = 1;\n\n    if (elapsed < transition.duration) {\n      t = transition.ease.call(null, elapsed / transition.duration);\n    } else {\n      transition.timer.restart(stop);\n      transition.state = ENDING;\n    }\n\n    var i = -1;\n\n    while (++i < tweens.length) {\n      tweens[i].call(null, t);\n    }\n\n    if (transition.state === ENDING) {\n      if (transition.events.end && typeof transition.events.end === 'function') {\n        transition.events.end.call(node);\n      }\n\n      stop();\n    }\n  }\n\n  function stop() {\n    transition.state = ENDED;\n    transition.timer.stop();\n    delete schedules[id];\n\n    for (var i in schedules) {\n      return;\n    } // eslint-disable-line guard-for-in, no-restricted-syntax\n\n\n    delete node.TRANSITION_SCHEDULES; // eslint-disable-line no-param-reassign\n  }\n}","map":{"version":3,"sources":["/home/greg2dmax/actinder/node_modules/react-move/core/transition/schedule.js"],"names":["Object","defineProperty","exports","value","default","_default","_d3Timer","require","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","configurable","writable","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","node","stateKey","id","timing","tweens","events","undefined","schedules","TRANSITION_SCHEDULES","config","timer","state","create","transition","n","Array","schedule","time","elapsed","restart","start","delay","stop","sid","s","timeout","interrupt","call","tick","j","res","t","duration","ease","end"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _d3Timer = require(\"d3-timer\");\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\n\nfunction _default(node, stateKey, id, timing, tweens) {\n  var events = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n  var schedules = node.TRANSITION_SCHEDULES;\n\n  if (!schedules) {\n    node.TRANSITION_SCHEDULES = {}; // eslint-disable-line no-param-reassign\n  } else if (id in schedules) {\n    return;\n  }\n\n  var config = _objectSpread({\n    stateKey: stateKey,\n    events: events,\n    tweens: tweens\n  }, timing, {\n    timer: null,\n    state: CREATED\n  });\n\n  create(node, id, config);\n}\n\nfunction create(node, id, config) {\n  var schedules = node.TRANSITION_SCHEDULES; // Initialize the transition timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n\n  var transition = _objectSpread({}, config);\n\n  var n = transition.tweens.length;\n  var tweens = new Array(n);\n  schedules[id] = transition;\n  transition.timer = (0, _d3Timer.timer)(schedule, 0, transition.time);\n\n  function schedule(elapsed) {\n    transition.state = SCHEDULED;\n    transition.timer.restart(start, transition.delay, transition.time); // If the elapsed delay is less than our first sleep, start immediately.\n\n    if (transition.delay <= elapsed) {\n      start(elapsed - transition.delay);\n    }\n  }\n\n  function start(elapsed) {\n    // eslint-disable-line consistent-return\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (transition.state !== SCHEDULED) return stop();\n\n    for (var sid in schedules) {\n      // eslint-disable-line\n      var s = schedules[sid];\n\n      if (s.stateKey !== transition.stateKey) {\n        continue; // eslint-disable-line no-continue\n      } // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n\n\n      if (s.state === STARTED) return (0, _d3Timer.timeout)(start); // 1. Interrupt the active transition, if any. dispatch the interrupt event.\n      // 2. Cancel any pre-empted transitions. No interrupt event is dispatched\n      // because the cancelled transitions never started. Note that this also\n      // removes this transition from the pending list!\n\n      if (s.state === RUNNING) {\n        s.state = ENDED;\n        s.timer.stop();\n\n        if (s.events.interrupt && typeof s.events.interrupt === 'function') {\n          s.events.interrupt.call(this);\n        }\n\n        delete schedules[sid];\n      } else if (+sid < id) {\n        s.state = ENDED;\n        s.timer.stop();\n        delete schedules[sid];\n      }\n    } // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n\n\n    (0, _d3Timer.timeout)(function () {\n      if (transition.state === STARTED) {\n        transition.state = RUNNING;\n        transition.timer.restart(tick, transition.delay, transition.time);\n        tick(elapsed);\n      }\n    });\n    transition.state = STARTING;\n\n    if (transition.events.start && typeof transition.events.start === 'function') {\n      transition.events.start.call(node);\n    }\n\n    if (transition.state !== STARTING) {\n      // interrupted\n      return; // eslint-disable-line consistent-return\n    }\n\n    transition.state = STARTED; // Initialize the tween, deleting null tween.\n\n    var j = -1;\n\n    for (var i = 0; i < n; ++i) {\n      var res = transition.tweens[i].call(node);\n\n      if (res) {\n        tweens[++j] = res;\n      }\n    }\n\n    tweens.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = 1;\n\n    if (elapsed < transition.duration) {\n      t = transition.ease.call(null, elapsed / transition.duration);\n    } else {\n      transition.timer.restart(stop);\n      transition.state = ENDING;\n    }\n\n    var i = -1;\n\n    while (++i < tweens.length) {\n      tweens[i].call(null, t);\n    }\n\n    if (transition.state === ENDING) {\n      if (transition.events.end && typeof transition.events.end === 'function') {\n        transition.events.end.call(node);\n      }\n\n      stop();\n    }\n  }\n\n  function stop() {\n    transition.state = ENDED;\n    transition.timer.stop();\n    delete schedules[id];\n\n    for (var i in schedules) {\n      return;\n    } // eslint-disable-line guard-for-in, no-restricted-syntax\n\n\n    delete node.TRANSITION_SCHEDULES; // eslint-disable-line no-param-reassign\n  }\n}"]},"metadata":{},"sourceType":"script"}