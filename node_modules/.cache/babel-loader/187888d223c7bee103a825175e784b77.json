{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.newId = newId;\nexports.default = transition;\nexports.preset = void 0;\n\nvar _d3Timer = require(\"d3-timer\");\n\nvar _tween = _interopRequireDefault(require(\"./tween\"));\n\nvar _schedule = _interopRequireDefault(require(\"./schedule\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction once(func) {\n  var called = false;\n  return function transitionEvent() {\n    if (!called) {\n      called = true;\n      func.call(this);\n    }\n  };\n}\n\nvar id = 0;\n\nfunction newId() {\n  return ++id;\n} // from https://github.com/d3/d3-ease/blob/master/src/linear.js\n\n\nfunction linear(t) {\n  return +t;\n}\n\nvar preset = {\n  time: null,\n  delay: 0,\n  duration: 250,\n  ease: linear\n};\nexports.preset = preset;\n\nfunction scheduleTransitions() {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var transitions = _objectSpread({}, config);\n\n  var events = transitions.events || {};\n  delete transitions.events; // each event handler should be called only once\n\n  Object.keys(events).forEach(function (d) {\n    if (typeof events[d] !== 'function') {\n      throw new Error('Event handlers must be a function');\n    } else {\n      events[d] = once(events[d]);\n    }\n  });\n  var timing = transitions.timing || {};\n  delete transitions.timing;\n  Object.keys(transitions).forEach(function (stateKey) {\n    var tweens = [];\n\n    if (_typeof(transitions[stateKey]) === 'object' && Array.isArray(transitions[stateKey]) === false) {\n      Object.keys(transitions[stateKey]).forEach(function (attr) {\n        var val = transitions[stateKey][attr];\n\n        if (Array.isArray(val)) {\n          if (val.length === 1) {\n            tweens.push(_tween.default.call(_this, stateKey, attr, val[0]));\n          } else {\n            _this.setState(function (state) {\n              return _defineProperty({}, stateKey, _objectSpread({}, state[stateKey], _defineProperty({}, attr, val[0])));\n            });\n\n            tweens.push(_tween.default.call(_this, stateKey, attr, val[1]));\n          }\n        } else if (typeof val === 'function') {\n          var getResonanceCustomTween = function getResonanceCustomTween() {\n            var resonanceCustomTween = function resonanceCustomTween(t) {\n              _this.setState(function (state) {\n                return _defineProperty({}, stateKey, _objectSpread({}, state[stateKey], _defineProperty({}, attr, val(t))));\n              });\n            };\n\n            return resonanceCustomTween;\n          };\n\n          tweens.push(getResonanceCustomTween);\n        } else {\n          _this.setState(function (state) {\n            return _defineProperty({}, stateKey, _objectSpread({}, state[stateKey], _defineProperty({}, attr, val)));\n          }); // This assures any existing transitions are stopped\n\n\n          tweens.push(_tween.default.call(_this, stateKey, attr, val));\n        }\n      });\n    } else {\n      var val = transitions[stateKey];\n\n      if (Array.isArray(val)) {\n        if (val.length === 1) {\n          tweens.push(_tween.default.call(_this, null, stateKey, val[0]));\n        } else {\n          _this.setState(function () {\n            return _defineProperty({}, stateKey, val[0]);\n          });\n\n          tweens.push(_tween.default.call(_this, null, stateKey, val[1]));\n        }\n      } else if (typeof val === 'function') {\n        var getResonanceCustomTween = function getResonanceCustomTween() {\n          var resonanceCustomTween = function resonanceCustomTween(t) {\n            _this.setState(function () {\n              return _defineProperty({}, stateKey, val(t));\n            });\n          };\n\n          return resonanceCustomTween;\n        };\n\n        tweens.push(getResonanceCustomTween);\n      } else {\n        _this.setState(function () {\n          return _defineProperty({}, stateKey, val);\n        }); // This assures any existing transitions are stopped\n\n\n        tweens.push(_tween.default.call(_this, null, stateKey, val));\n      }\n    }\n\n    var timingConfig = _objectSpread({}, preset, timing, {\n      time: (0, _d3Timer.now)()\n    });\n\n    (0, _schedule.default)(_this, stateKey, newId(), timingConfig, tweens, events);\n  });\n}\n\nfunction transition(config) {\n  var _this2 = this;\n\n  if (Array.isArray(config)) {\n    config.forEach(function (c) {\n      scheduleTransitions.call(_this2, c);\n    });\n  } else {\n    scheduleTransitions.call(this, config);\n  }\n}","map":{"version":3,"sources":["/home/greg2dmax/actinder/node_modules/react-move/core/transition/transition.js"],"names":["Object","defineProperty","exports","value","newId","default","transition","preset","_d3Timer","require","_tween","_interopRequireDefault","_schedule","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","configurable","writable","once","func","called","transitionEvent","call","id","linear","t","time","delay","duration","ease","scheduleTransitions","_this","config","undefined","transitions","events","d","Error","timing","stateKey","tweens","Array","isArray","attr","val","push","setState","state","getResonanceCustomTween","resonanceCustomTween","timingConfig","now","_this2","c"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,KAAR,GAAgBA,KAAhB;AACAF,OAAO,CAACG,OAAR,GAAkBC,UAAlB;AACAJ,OAAO,CAACK,MAAR,GAAiB,KAAK,CAAtB;;AAEA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AAEA,IAAIC,MAAM,GAAGC,sBAAsB,CAACF,OAAO,CAAC,SAAD,CAAR,CAAnC;;AAEA,IAAIG,SAAS,GAAGD,sBAAsB,CAACF,OAAO,CAAC,YAAD,CAAR,CAAtC;;AAEA,SAASE,sBAAT,CAAgCE,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAER,IAAAA,OAAO,EAAEQ;AAAX,GAArC;AAAwD;;AAE/F,SAASE,OAAT,CAAiBF,GAAjB,EAAsB;AAAE,MAAI,OAAOG,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;AAAEF,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBF,GAAjB,EAAsB;AAAE,aAAO,OAAOA,GAAd;AAAoB,KAAtD;AAAyD,GAApI,MAA0I;AAAEE,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBF,GAAjB,EAAsB;AAAE,aAAOA,GAAG,IAAI,OAAOG,MAAP,KAAkB,UAAzB,IAAuCH,GAAG,CAACK,WAAJ,KAAoBF,MAA3D,IAAqEH,GAAG,KAAKG,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAON,GAAzH;AAA+H,KAAjK;AAAoK;;AAAC,SAAOE,OAAO,CAACF,GAAD,CAAd;AAAsB;;AAE/V,SAASO,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;AAAuD,QAAII,OAAO,GAAG1B,MAAM,CAAC2B,IAAP,CAAYF,MAAZ,CAAd;;AAAmC,QAAI,OAAOzB,MAAM,CAAC4B,qBAAd,KAAwC,UAA5C,EAAwD;AAAEF,MAAAA,OAAO,GAAGA,OAAO,CAACG,MAAR,CAAe7B,MAAM,CAAC4B,qBAAP,CAA6BH,MAA7B,EAAqCK,MAArC,CAA4C,UAAUC,GAAV,EAAe;AAAE,eAAO/B,MAAM,CAACgC,wBAAP,CAAgCP,MAAhC,EAAwCM,GAAxC,EAA6CE,UAApD;AAAiE,OAA9H,CAAf,CAAV;AAA4J;;AAACP,IAAAA,OAAO,CAACQ,OAAR,CAAgB,UAAUC,GAAV,EAAe;AAAEC,MAAAA,eAAe,CAACf,MAAD,EAASc,GAAT,EAAcV,MAAM,CAACU,GAAD,CAApB,CAAf;AAA4C,KAA7E;AAAiF;;AAAC,SAAOd,MAAP;AAAgB;;AAEje,SAASe,eAAT,CAAyBvB,GAAzB,EAA8BsB,GAA9B,EAAmChC,KAAnC,EAA0C;AAAE,MAAIgC,GAAG,IAAItB,GAAX,EAAgB;AAAEb,IAAAA,MAAM,CAACC,cAAP,CAAsBY,GAAtB,EAA2BsB,GAA3B,EAAgC;AAAEhC,MAAAA,KAAK,EAAEA,KAAT;AAAgB8B,MAAAA,UAAU,EAAE,IAA5B;AAAkCI,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEzB,IAAAA,GAAG,CAACsB,GAAD,CAAH,GAAWhC,KAAX;AAAmB;;AAAC,SAAOU,GAAP;AAAa;;AAEjN,SAAS0B,IAAT,CAAcC,IAAd,EAAoB;AAClB,MAAIC,MAAM,GAAG,KAAb;AACA,SAAO,SAASC,eAAT,GAA2B;AAChC,QAAI,CAACD,MAAL,EAAa;AACXA,MAAAA,MAAM,GAAG,IAAT;AACAD,MAAAA,IAAI,CAACG,IAAL,CAAU,IAAV;AACD;AACF,GALD;AAMD;;AAED,IAAIC,EAAE,GAAG,CAAT;;AAEA,SAASxC,KAAT,GAAiB;AACf,SAAO,EAAEwC,EAAT;AACD,C,CAAC;;;AAGF,SAASC,MAAT,CAAgBC,CAAhB,EAAmB;AACjB,SAAO,CAACA,CAAR;AACD;;AAED,IAAIvC,MAAM,GAAG;AACXwC,EAAAA,IAAI,EAAE,IADK;AAEXC,EAAAA,KAAK,EAAE,CAFI;AAGXC,EAAAA,QAAQ,EAAE,GAHC;AAIXC,EAAAA,IAAI,EAAEL;AAJK,CAAb;AAMA3C,OAAO,CAACK,MAAR,GAAiBA,MAAjB;;AAEA,SAAS4C,mBAAT,GAA+B;AAC7B,MAAIC,KAAK,GAAG,IAAZ;;AAEA,MAAIC,MAAM,GAAG9B,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB+B,SAAzC,GAAqD/B,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAjF;;AAEA,MAAIgC,WAAW,GAAGnC,aAAa,CAAC,EAAD,EAAKiC,MAAL,CAA/B;;AAEA,MAAIG,MAAM,GAAGD,WAAW,CAACC,MAAZ,IAAsB,EAAnC;AACA,SAAOD,WAAW,CAACC,MAAnB,CAR6B,CAQF;;AAE3BxD,EAAAA,MAAM,CAAC2B,IAAP,CAAY6B,MAAZ,EAAoBtB,OAApB,CAA4B,UAAUuB,CAAV,EAAa;AACvC,QAAI,OAAOD,MAAM,CAACC,CAAD,CAAb,KAAqB,UAAzB,EAAqC;AACnC,YAAM,IAAIC,KAAJ,CAAU,mCAAV,CAAN;AACD,KAFD,MAEO;AACLF,MAAAA,MAAM,CAACC,CAAD,CAAN,GAAYlB,IAAI,CAACiB,MAAM,CAACC,CAAD,CAAP,CAAhB;AACD;AACF,GAND;AAOA,MAAIE,MAAM,GAAGJ,WAAW,CAACI,MAAZ,IAAsB,EAAnC;AACA,SAAOJ,WAAW,CAACI,MAAnB;AACA3D,EAAAA,MAAM,CAAC2B,IAAP,CAAY4B,WAAZ,EAAyBrB,OAAzB,CAAiC,UAAU0B,QAAV,EAAoB;AACnD,QAAIC,MAAM,GAAG,EAAb;;AAEA,QAAI9C,OAAO,CAACwC,WAAW,CAACK,QAAD,CAAZ,CAAP,KAAmC,QAAnC,IAA+CE,KAAK,CAACC,OAAN,CAAcR,WAAW,CAACK,QAAD,CAAzB,MAAyC,KAA5F,EAAmG;AACjG5D,MAAAA,MAAM,CAAC2B,IAAP,CAAY4B,WAAW,CAACK,QAAD,CAAvB,EAAmC1B,OAAnC,CAA2C,UAAU8B,IAAV,EAAgB;AACzD,YAAIC,GAAG,GAAGV,WAAW,CAACK,QAAD,CAAX,CAAsBI,IAAtB,CAAV;;AAEA,YAAIF,KAAK,CAACC,OAAN,CAAcE,GAAd,CAAJ,EAAwB;AACtB,cAAIA,GAAG,CAACzC,MAAJ,KAAe,CAAnB,EAAsB;AACpBqC,YAAAA,MAAM,CAACK,IAAP,CAAYxD,MAAM,CAACL,OAAP,CAAesC,IAAf,CAAoBS,KAApB,EAA2BQ,QAA3B,EAAqCI,IAArC,EAA2CC,GAAG,CAAC,CAAD,CAA9C,CAAZ;AACD,WAFD,MAEO;AACLb,YAAAA,KAAK,CAACe,QAAN,CAAe,UAAUC,KAAV,EAAiB;AAC9B,qBAAOhC,eAAe,CAAC,EAAD,EAAKwB,QAAL,EAAexC,aAAa,CAAC,EAAD,EAAKgD,KAAK,CAACR,QAAD,CAAV,EAAsBxB,eAAe,CAAC,EAAD,EAAK4B,IAAL,EAAWC,GAAG,CAAC,CAAD,CAAd,CAArC,CAA5B,CAAtB;AACD,aAFD;;AAIAJ,YAAAA,MAAM,CAACK,IAAP,CAAYxD,MAAM,CAACL,OAAP,CAAesC,IAAf,CAAoBS,KAApB,EAA2BQ,QAA3B,EAAqCI,IAArC,EAA2CC,GAAG,CAAC,CAAD,CAA9C,CAAZ;AACD;AACF,SAVD,MAUO,IAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B;AACpC,cAAII,uBAAuB,GAAG,SAASA,uBAAT,GAAmC;AAC/D,gBAAIC,oBAAoB,GAAG,SAASA,oBAAT,CAA8BxB,CAA9B,EAAiC;AAC1DM,cAAAA,KAAK,CAACe,QAAN,CAAe,UAAUC,KAAV,EAAiB;AAC9B,uBAAOhC,eAAe,CAAC,EAAD,EAAKwB,QAAL,EAAexC,aAAa,CAAC,EAAD,EAAKgD,KAAK,CAACR,QAAD,CAAV,EAAsBxB,eAAe,CAAC,EAAD,EAAK4B,IAAL,EAAWC,GAAG,CAACnB,CAAD,CAAd,CAArC,CAA5B,CAAtB;AACD,eAFD;AAGD,aAJD;;AAMA,mBAAOwB,oBAAP;AACD,WARD;;AAUAT,UAAAA,MAAM,CAACK,IAAP,CAAYG,uBAAZ;AACD,SAZM,MAYA;AACLjB,UAAAA,KAAK,CAACe,QAAN,CAAe,UAAUC,KAAV,EAAiB;AAC9B,mBAAOhC,eAAe,CAAC,EAAD,EAAKwB,QAAL,EAAexC,aAAa,CAAC,EAAD,EAAKgD,KAAK,CAACR,QAAD,CAAV,EAAsBxB,eAAe,CAAC,EAAD,EAAK4B,IAAL,EAAWC,GAAX,CAArC,CAA5B,CAAtB;AACD,WAFD,EADK,CAGD;;;AAGJJ,UAAAA,MAAM,CAACK,IAAP,CAAYxD,MAAM,CAACL,OAAP,CAAesC,IAAf,CAAoBS,KAApB,EAA2BQ,QAA3B,EAAqCI,IAArC,EAA2CC,GAA3C,CAAZ;AACD;AACF,OAjCD;AAkCD,KAnCD,MAmCO;AACL,UAAIA,GAAG,GAAGV,WAAW,CAACK,QAAD,CAArB;;AAEA,UAAIE,KAAK,CAACC,OAAN,CAAcE,GAAd,CAAJ,EAAwB;AACtB,YAAIA,GAAG,CAACzC,MAAJ,KAAe,CAAnB,EAAsB;AACpBqC,UAAAA,MAAM,CAACK,IAAP,CAAYxD,MAAM,CAACL,OAAP,CAAesC,IAAf,CAAoBS,KAApB,EAA2B,IAA3B,EAAiCQ,QAAjC,EAA2CK,GAAG,CAAC,CAAD,CAA9C,CAAZ;AACD,SAFD,MAEO;AACLb,UAAAA,KAAK,CAACe,QAAN,CAAe,YAAY;AACzB,mBAAO/B,eAAe,CAAC,EAAD,EAAKwB,QAAL,EAAeK,GAAG,CAAC,CAAD,CAAlB,CAAtB;AACD,WAFD;;AAIAJ,UAAAA,MAAM,CAACK,IAAP,CAAYxD,MAAM,CAACL,OAAP,CAAesC,IAAf,CAAoBS,KAApB,EAA2B,IAA3B,EAAiCQ,QAAjC,EAA2CK,GAAG,CAAC,CAAD,CAA9C,CAAZ;AACD;AACF,OAVD,MAUO,IAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B;AACpC,YAAII,uBAAuB,GAAG,SAASA,uBAAT,GAAmC;AAC/D,cAAIC,oBAAoB,GAAG,SAASA,oBAAT,CAA8BxB,CAA9B,EAAiC;AAC1DM,YAAAA,KAAK,CAACe,QAAN,CAAe,YAAY;AACzB,qBAAO/B,eAAe,CAAC,EAAD,EAAKwB,QAAL,EAAeK,GAAG,CAACnB,CAAD,CAAlB,CAAtB;AACD,aAFD;AAGD,WAJD;;AAMA,iBAAOwB,oBAAP;AACD,SARD;;AAUAT,QAAAA,MAAM,CAACK,IAAP,CAAYG,uBAAZ;AACD,OAZM,MAYA;AACLjB,QAAAA,KAAK,CAACe,QAAN,CAAe,YAAY;AACzB,iBAAO/B,eAAe,CAAC,EAAD,EAAKwB,QAAL,EAAeK,GAAf,CAAtB;AACD,SAFD,EADK,CAGD;;;AAGJJ,QAAAA,MAAM,CAACK,IAAP,CAAYxD,MAAM,CAACL,OAAP,CAAesC,IAAf,CAAoBS,KAApB,EAA2B,IAA3B,EAAiCQ,QAAjC,EAA2CK,GAA3C,CAAZ;AACD;AACF;;AAED,QAAIM,YAAY,GAAGnD,aAAa,CAAC,EAAD,EAAKb,MAAL,EAAaoD,MAAb,EAAqB;AACnDZ,MAAAA,IAAI,EAAE,CAAC,GAAGvC,QAAQ,CAACgE,GAAb;AAD6C,KAArB,CAAhC;;AAIA,KAAC,GAAG5D,SAAS,CAACP,OAAd,EAAuB+C,KAAvB,EAA8BQ,QAA9B,EAAwCxD,KAAK,EAA7C,EAAiDmE,YAAjD,EAA+DV,MAA/D,EAAuEL,MAAvE;AACD,GA9ED;AA+ED;;AAED,SAASlD,UAAT,CAAoB+C,MAApB,EAA4B;AAC1B,MAAIoB,MAAM,GAAG,IAAb;;AAEA,MAAIX,KAAK,CAACC,OAAN,CAAcV,MAAd,CAAJ,EAA2B;AACzBA,IAAAA,MAAM,CAACnB,OAAP,CAAe,UAAUwC,CAAV,EAAa;AAC1BvB,MAAAA,mBAAmB,CAACR,IAApB,CAAyB8B,MAAzB,EAAiCC,CAAjC;AACD,KAFD;AAGD,GAJD,MAIO;AACLvB,IAAAA,mBAAmB,CAACR,IAApB,CAAyB,IAAzB,EAA+BU,MAA/B;AACD;AACF","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.newId = newId;\nexports.default = transition;\nexports.preset = void 0;\n\nvar _d3Timer = require(\"d3-timer\");\n\nvar _tween = _interopRequireDefault(require(\"./tween\"));\n\nvar _schedule = _interopRequireDefault(require(\"./schedule\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction once(func) {\n  var called = false;\n  return function transitionEvent() {\n    if (!called) {\n      called = true;\n      func.call(this);\n    }\n  };\n}\n\nvar id = 0;\n\nfunction newId() {\n  return ++id;\n} // from https://github.com/d3/d3-ease/blob/master/src/linear.js\n\n\nfunction linear(t) {\n  return +t;\n}\n\nvar preset = {\n  time: null,\n  delay: 0,\n  duration: 250,\n  ease: linear\n};\nexports.preset = preset;\n\nfunction scheduleTransitions() {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var transitions = _objectSpread({}, config);\n\n  var events = transitions.events || {};\n  delete transitions.events; // each event handler should be called only once\n\n  Object.keys(events).forEach(function (d) {\n    if (typeof events[d] !== 'function') {\n      throw new Error('Event handlers must be a function');\n    } else {\n      events[d] = once(events[d]);\n    }\n  });\n  var timing = transitions.timing || {};\n  delete transitions.timing;\n  Object.keys(transitions).forEach(function (stateKey) {\n    var tweens = [];\n\n    if (_typeof(transitions[stateKey]) === 'object' && Array.isArray(transitions[stateKey]) === false) {\n      Object.keys(transitions[stateKey]).forEach(function (attr) {\n        var val = transitions[stateKey][attr];\n\n        if (Array.isArray(val)) {\n          if (val.length === 1) {\n            tweens.push(_tween.default.call(_this, stateKey, attr, val[0]));\n          } else {\n            _this.setState(function (state) {\n              return _defineProperty({}, stateKey, _objectSpread({}, state[stateKey], _defineProperty({}, attr, val[0])));\n            });\n\n            tweens.push(_tween.default.call(_this, stateKey, attr, val[1]));\n          }\n        } else if (typeof val === 'function') {\n          var getResonanceCustomTween = function getResonanceCustomTween() {\n            var resonanceCustomTween = function resonanceCustomTween(t) {\n              _this.setState(function (state) {\n                return _defineProperty({}, stateKey, _objectSpread({}, state[stateKey], _defineProperty({}, attr, val(t))));\n              });\n            };\n\n            return resonanceCustomTween;\n          };\n\n          tweens.push(getResonanceCustomTween);\n        } else {\n          _this.setState(function (state) {\n            return _defineProperty({}, stateKey, _objectSpread({}, state[stateKey], _defineProperty({}, attr, val)));\n          }); // This assures any existing transitions are stopped\n\n\n          tweens.push(_tween.default.call(_this, stateKey, attr, val));\n        }\n      });\n    } else {\n      var val = transitions[stateKey];\n\n      if (Array.isArray(val)) {\n        if (val.length === 1) {\n          tweens.push(_tween.default.call(_this, null, stateKey, val[0]));\n        } else {\n          _this.setState(function () {\n            return _defineProperty({}, stateKey, val[0]);\n          });\n\n          tweens.push(_tween.default.call(_this, null, stateKey, val[1]));\n        }\n      } else if (typeof val === 'function') {\n        var getResonanceCustomTween = function getResonanceCustomTween() {\n          var resonanceCustomTween = function resonanceCustomTween(t) {\n            _this.setState(function () {\n              return _defineProperty({}, stateKey, val(t));\n            });\n          };\n\n          return resonanceCustomTween;\n        };\n\n        tweens.push(getResonanceCustomTween);\n      } else {\n        _this.setState(function () {\n          return _defineProperty({}, stateKey, val);\n        }); // This assures any existing transitions are stopped\n\n\n        tweens.push(_tween.default.call(_this, null, stateKey, val));\n      }\n    }\n\n    var timingConfig = _objectSpread({}, preset, timing, {\n      time: (0, _d3Timer.now)()\n    });\n\n    (0, _schedule.default)(_this, stateKey, newId(), timingConfig, tweens, events);\n  });\n}\n\nfunction transition(config) {\n  var _this2 = this;\n\n  if (Array.isArray(config)) {\n    config.forEach(function (c) {\n      scheduleTransitions.call(_this2, c);\n    });\n  } else {\n    scheduleTransitions.call(this, config);\n  }\n}"]},"metadata":{},"sourceType":"script"}