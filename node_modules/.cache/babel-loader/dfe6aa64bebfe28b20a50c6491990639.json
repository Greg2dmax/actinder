{"ast":null,"code":"import React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar touchMove = 'touchmove';\nvar touchEnd = 'touchend';\nvar mouseMove = 'mousemove';\nvar mouseUp = 'mouseup';\nvar defaultProps = {\n  touch: true,\n  mouse: true,\n  passive: {\n    passive: true\n  }\n};\nvar initialState = {\n  event: undefined,\n  args: undefined,\n  temp: undefined,\n  target: undefined,\n  time: undefined,\n  xy: [0, 0],\n  delta: [0, 0],\n  initial: [0, 0],\n  previous: [0, 0],\n  direction: [0, 0],\n  local: [0, 0],\n  lastLocal: [0, 0],\n  velocity: 0,\n  distance: 0,\n  down: false,\n  first: true\n};\n\nfunction handlers(set, props, args) {\n  if (props === void 0) {\n    props = {};\n  } // Common handlers\n\n\n  var handleUp = function handleUp(event) {\n    return set(function (state) {\n      var newProps = _extends({}, state, {\n        down: false,\n        first: false\n      });\n\n      var temp = props.onAction && props.onAction(newProps);\n      return _extends({}, newProps, {\n        event: event,\n        lastLocal: state.local,\n        temp: temp || newProps.temp\n      });\n    });\n  };\n\n  var handleDown = function handleDown(event) {\n    var _ref = event.touches ? event.touches[0] : event,\n        target = _ref.target,\n        pageX = _ref.pageX,\n        pageY = _ref.pageY;\n\n    set(function (state) {\n      var lastLocal = state.lastLocal || initialState.lastLocal;\n\n      var newProps = _extends({}, initialState, {\n        event: event,\n        target: target,\n        args: args,\n        lastLocal: lastLocal,\n        local: lastLocal,\n        xy: [pageX, pageY],\n        initial: [pageX, pageY],\n        previous: [pageX, pageY],\n        down: true,\n        time: Date.now(),\n        cancel: function cancel() {\n          stop();\n          requestAnimationFrame(function () {\n            return handleUp(event);\n          });\n        }\n      });\n\n      var temp = props.onAction && props.onAction(newProps);\n      return _extends({}, newProps, {\n        temp: temp\n      });\n    });\n  };\n\n  var handleMove = function handleMove(event) {\n    var _ref2 = event.touches ? event.touches[0] : event,\n        pageX = _ref2.pageX,\n        pageY = _ref2.pageY;\n\n    set(function (state) {\n      var time = Date.now();\n      var x_dist = pageX - state.xy[0];\n      var y_dist = pageY - state.xy[1];\n      var delta_x = pageX - state.initial[0];\n      var delta_y = pageY - state.initial[1];\n      var distance = Math.sqrt(delta_x * delta_x + delta_y * delta_y);\n      var len = Math.sqrt(x_dist * x_dist + y_dist * y_dist);\n      var scalar = 1 / (len || 1);\n\n      var newProps = _extends({}, state, {\n        event: event,\n        time: time,\n        xy: [pageX, pageY],\n        delta: [delta_x, delta_y],\n        local: [state.lastLocal[0] + pageX - state.initial[0], state.lastLocal[1] + pageY - state.initial[1]],\n        velocity: len / (time - state.time),\n        distance: distance,\n        direction: [x_dist * scalar, y_dist * scalar],\n        previous: state.xy,\n        first: false\n      });\n\n      var temp = props.onAction && props.onAction(newProps);\n      return _extends({}, newProps, {\n        temp: temp || newProps.temp\n      });\n    });\n  };\n\n  var onDown = function onDown(e) {\n    if (props.mouse) {\n      window.addEventListener(mouseMove, handleMove, props.passive);\n      window.addEventListener(mouseUp, onUp, props.passive);\n    }\n\n    if (props.touch) {\n      window.addEventListener(touchMove, handleMove, props.passive);\n      window.addEventListener(touchEnd, onUp, props.passive);\n    }\n\n    handleDown(e);\n  };\n\n  var stop = function stop() {\n    if (props.mouse) {\n      window.removeEventListener(mouseMove, handleMove, props.passive);\n      window.removeEventListener(mouseUp, onUp, props.passive);\n    }\n\n    if (props.touch) {\n      window.removeEventListener(touchMove, handleMove, props.passive);\n      window.removeEventListener(touchEnd, onUp, props.passive);\n    }\n  };\n\n  var onUp = function onUp(e) {\n    stop();\n    handleUp(e);\n  };\n\n  var output = {};\n  var capture = props.passive.capture ? 'Capture' : '';\n\n  if (props.mouse) {\n    output[\"onMouseDown\" + capture] = onDown;\n  }\n\n  if (props.touch) {\n    output[\"onTouchStart\" + capture] = onDown;\n  }\n\n  return output;\n}\n\nvar Gesture = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Gesture, _React$Component);\n\n  function Gesture(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = initialState;\n\n    var set = _this.setState.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    if (props.onAction) {\n      _this._state = initialState;\n\n      set = function set(cb) {\n        return _this._state = cb(_this._state);\n      };\n    }\n\n    _this.handlers = handlers(set, props);\n    return _this;\n  }\n\n  var _proto = Gesture.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        style = _this$props.style,\n        children = _this$props.children,\n        className = _this$props.className;\n    return React.createElement(\"div\", _extends({}, this.handlers, {\n      style: _extends({\n        display: 'contents'\n      }, style),\n      className: className\n    }), children(this.state));\n  };\n\n  return Gesture;\n}(React.Component);\n\nGesture.defaultProps = defaultProps;\n\nvar withGesture = function withGesture(config) {\n  return function (Wrapped) {\n    return function (props) {\n      return React.createElement(Gesture, _extends({}, config, {\n        children: function children(gestureProps) {\n          return React.createElement(Wrapped, _extends({}, props, gestureProps));\n        }\n      }));\n    };\n  };\n};\n\nfunction useGesture(props) {\n  var _React$useState = React.useState(initialState),\n      state = _React$useState[0],\n      set = _React$useState[1];\n\n  var transientState = React.useRef(initialState);\n  if (typeof props === 'function') props = {\n    onAction: props\n  };\n  props = _extends({}, defaultProps, props);\n\n  var _React$useState2 = React.useState(function () {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return handlers(props.onAction ? function (cb) {\n        return transientState.current = cb(transientState.current);\n      } : set, props, args);\n    };\n  }),\n      spread = _React$useState2[0];\n\n  return props.onAction ? spread : [spread, state];\n}\n\nexport { withGesture, Gesture, useGesture };","map":{"version":3,"sources":["/home/greg2dmax/actinder/node_modules/react-with-gesture/dist/react-with-gesture.es.js"],"names":["React","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_assertThisInitialized","self","ReferenceError","touchMove","touchEnd","mouseMove","mouseUp","defaultProps","touch","mouse","passive","initialState","event","undefined","args","temp","time","xy","delta","initial","previous","direction","local","lastLocal","velocity","distance","down","first","handlers","set","props","handleUp","state","newProps","onAction","handleDown","_ref","touches","pageX","pageY","Date","now","cancel","stop","requestAnimationFrame","handleMove","_ref2","x_dist","y_dist","delta_x","delta_y","Math","sqrt","len","scalar","onDown","e","window","addEventListener","onUp","removeEventListener","output","capture","Gesture","_React$Component","_this","setState","bind","_state","cb","_proto","render","_this$props","style","children","className","createElement","display","Component","withGesture","config","Wrapped","gestureProps","useGesture","_React$useState","useState","transientState","useRef","_React$useState2","_len","Array","_key","current","spread"],"mappings":"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","sourcesContent":["import React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar touchMove = 'touchmove';\nvar touchEnd = 'touchend';\nvar mouseMove = 'mousemove';\nvar mouseUp = 'mouseup';\nvar defaultProps = {\n  touch: true,\n  mouse: true,\n  passive: {\n    passive: true\n  }\n};\nvar initialState = {\n  event: undefined,\n  args: undefined,\n  temp: undefined,\n  target: undefined,\n  time: undefined,\n  xy: [0, 0],\n  delta: [0, 0],\n  initial: [0, 0],\n  previous: [0, 0],\n  direction: [0, 0],\n  local: [0, 0],\n  lastLocal: [0, 0],\n  velocity: 0,\n  distance: 0,\n  down: false,\n  first: true\n};\n\nfunction handlers(set, props, args) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  // Common handlers\n  var handleUp = function handleUp(event) {\n    return set(function (state) {\n      var newProps = _extends({}, state, {\n        down: false,\n        first: false\n      });\n\n      var temp = props.onAction && props.onAction(newProps);\n      return _extends({}, newProps, {\n        event: event,\n        lastLocal: state.local,\n        temp: temp || newProps.temp\n      });\n    });\n  };\n\n  var handleDown = function handleDown(event) {\n    var _ref = event.touches ? event.touches[0] : event,\n        target = _ref.target,\n        pageX = _ref.pageX,\n        pageY = _ref.pageY;\n\n    set(function (state) {\n      var lastLocal = state.lastLocal || initialState.lastLocal;\n\n      var newProps = _extends({}, initialState, {\n        event: event,\n        target: target,\n        args: args,\n        lastLocal: lastLocal,\n        local: lastLocal,\n        xy: [pageX, pageY],\n        initial: [pageX, pageY],\n        previous: [pageX, pageY],\n        down: true,\n        time: Date.now(),\n        cancel: function cancel() {\n          stop();\n          requestAnimationFrame(function () {\n            return handleUp(event);\n          });\n        }\n      });\n\n      var temp = props.onAction && props.onAction(newProps);\n      return _extends({}, newProps, {\n        temp: temp\n      });\n    });\n  };\n\n  var handleMove = function handleMove(event) {\n    var _ref2 = event.touches ? event.touches[0] : event,\n        pageX = _ref2.pageX,\n        pageY = _ref2.pageY;\n\n    set(function (state) {\n      var time = Date.now();\n      var x_dist = pageX - state.xy[0];\n      var y_dist = pageY - state.xy[1];\n      var delta_x = pageX - state.initial[0];\n      var delta_y = pageY - state.initial[1];\n      var distance = Math.sqrt(delta_x * delta_x + delta_y * delta_y);\n      var len = Math.sqrt(x_dist * x_dist + y_dist * y_dist);\n      var scalar = 1 / (len || 1);\n\n      var newProps = _extends({}, state, {\n        event: event,\n        time: time,\n        xy: [pageX, pageY],\n        delta: [delta_x, delta_y],\n        local: [state.lastLocal[0] + pageX - state.initial[0], state.lastLocal[1] + pageY - state.initial[1]],\n        velocity: len / (time - state.time),\n        distance: distance,\n        direction: [x_dist * scalar, y_dist * scalar],\n        previous: state.xy,\n        first: false\n      });\n\n      var temp = props.onAction && props.onAction(newProps);\n      return _extends({}, newProps, {\n        temp: temp || newProps.temp\n      });\n    });\n  };\n\n  var onDown = function onDown(e) {\n    if (props.mouse) {\n      window.addEventListener(mouseMove, handleMove, props.passive);\n      window.addEventListener(mouseUp, onUp, props.passive);\n    }\n\n    if (props.touch) {\n      window.addEventListener(touchMove, handleMove, props.passive);\n      window.addEventListener(touchEnd, onUp, props.passive);\n    }\n\n    handleDown(e);\n  };\n\n  var stop = function stop() {\n    if (props.mouse) {\n      window.removeEventListener(mouseMove, handleMove, props.passive);\n      window.removeEventListener(mouseUp, onUp, props.passive);\n    }\n\n    if (props.touch) {\n      window.removeEventListener(touchMove, handleMove, props.passive);\n      window.removeEventListener(touchEnd, onUp, props.passive);\n    }\n  };\n\n  var onUp = function onUp(e) {\n    stop();\n    handleUp(e);\n  };\n\n  var output = {};\n  var capture = props.passive.capture ? 'Capture' : '';\n\n  if (props.mouse) {\n    output[\"onMouseDown\" + capture] = onDown;\n  }\n\n  if (props.touch) {\n    output[\"onTouchStart\" + capture] = onDown;\n  }\n\n  return output;\n}\n\nvar Gesture =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Gesture, _React$Component);\n\n  function Gesture(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = initialState;\n\n    var set = _this.setState.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    if (props.onAction) {\n      _this._state = initialState;\n\n      set = function set(cb) {\n        return _this._state = cb(_this._state);\n      };\n    }\n\n    _this.handlers = handlers(set, props);\n    return _this;\n  }\n\n  var _proto = Gesture.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        style = _this$props.style,\n        children = _this$props.children,\n        className = _this$props.className;\n    return React.createElement(\"div\", _extends({}, this.handlers, {\n      style: _extends({\n        display: 'contents'\n      }, style),\n      className: className\n    }), children(this.state));\n  };\n\n  return Gesture;\n}(React.Component);\n\nGesture.defaultProps = defaultProps;\n\nvar withGesture = function withGesture(config) {\n  return function (Wrapped) {\n    return function (props) {\n      return React.createElement(Gesture, _extends({}, config, {\n        children: function children(gestureProps) {\n          return React.createElement(Wrapped, _extends({}, props, gestureProps));\n        }\n      }));\n    };\n  };\n};\n\nfunction useGesture(props) {\n  var _React$useState = React.useState(initialState),\n      state = _React$useState[0],\n      set = _React$useState[1];\n\n  var transientState = React.useRef(initialState);\n  if (typeof props === 'function') props = {\n    onAction: props\n  };\n  props = _extends({}, defaultProps, props);\n\n  var _React$useState2 = React.useState(function () {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return handlers(props.onAction ? function (cb) {\n        return transientState.current = cb(transientState.current);\n      } : set, props, args);\n    };\n  }),\n      spread = _React$useState2[0];\n\n  return props.onAction ? spread : [spread, state];\n}\n\nexport { withGesture, Gesture, useGesture };\n"]},"metadata":{},"sourceType":"module"}